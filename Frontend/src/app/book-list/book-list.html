<div class="container">
  <div class="header">
    <h1>Library Books</h1>
    <div class="header-actions">
      <button (click)="addBook()" class="btn-add">+ Add Book</button>
      <button (click)="logout()" class="btn-logout">Logout</button>
    </div>
  </div>
 <div class="search-bar">
  <input
    type="text"
    FormModule="searchTerm"
    placeholder="Search by title, author, ISBN, or category"
    (input)="searchBooks()"
    class="search-input"
  />
  <ul *ngIf="books.length > 0 && searchTerm">
    <li *ngFor="let book of books">{{ book.title }} by {{ book.author }}</li>
  </ul>
</div>


  
  <div class="book-grid">
    <div *ngFor="let book of books" class="book-card">
      <h3>{{ book.title }}</h3>
      <p><strong>Author:</strong> {{ book.author }}</p>
      <p><strong>ISBN:</strong> {{ book.isbn }}</p>
      <p><strong>Category:</strong> {{ book.category }}</p>
      <p><strong>Quantity:</strong> {{ book.quantity }}</p>
      <p>
        <strong>Status:</strong> 
        <span [class]="book.available ? 'status-available' : 'status-unavailable'">
          {{ book.available ? 'Available' : 'Unavailable' }}
        </span>
      </p>
      
      <div class="book-actions">
        <button (click)="editBook(book)" class="btn-edit">Edit</button>
        <button (click)="deleteBook(book)" class="btn-delete">Delete</button>
      </div>
    </div>
  </div>
  
  <div *ngIf="books.length === 0" class="no-books">
    <p>No books available</p>
    <button (click)="addBook()" class="btn-add">Add Your First Book</button>
  </div>
</div>

<!-- Delete Confirmation Modal -->
<div *ngIf="showDeleteConfirm" class="modal-overlay">
  <div class="modal">
    <h3>Confirm Delete</h3>
    <p>Are you sure you want to delete "{{ selectedBook?.title }}"?</p>
    <div class="modal-actions">
      <button (click)="confirmDelete()" class="btn-confirm">Delete</button>
      <button (click)="cancelDelete()" class="btn-cancel">Cancel</button>
    </div>
  </div>
</div>
